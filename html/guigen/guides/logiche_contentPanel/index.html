<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Guida all' associazione di logiche applicative al Content
	Panel</title>
<link type="text/css" href=".//css/style.css" rel="stylesheet" />
</head>

<body>
	<h2>Guida all' associazione di logiche applicative al Content
		Panel</h2>
	<h3>Introduzione</h3>
	<p>

		In <b>guigen</b> per implentare della logica applicativa tipicamente
		si fa ricorso ai commands e i punti in cui pu&ograve; essere
		implementata sono i seguenti:<br>
	<ol>
		<li>inzializzazione dell' applicazione
		<li>inizialiazzazione\refresh del ContentPanel
		<li>event handler
	</ol>
	<br> Per poter modellare questa logica a livello di ContentPanel
	&egrave; stato introdotto il nodo
	<b>CPCommand</b> (child del nodo raggruppatore
	<b>CPCommands</b>). Il
	<b>CPCommand</b> &egrave; caratterizzato da un nodo child di tipo <i>command</i>
	e una property
	<i>execute</i> che definisce il punto di implementazione :
	<ol type="disc">
		<li>ON_INIT
		<li>ON_REFRESH
		<li>ON_ENTER
		<li>BEFORE_EVENTS
		<li>AFTER_EVENTS
	</ol>

	<br>

	<div align="center">
		<img alt="Esempio CPCommand" src=".//img/CPCommandeEsempio.png"
			border="1px" title="Esempio CPCommand" align="middle"> <br>
		<label><b>Esempio di modellazione</b></label>
	</div>
	<br>
	<br>
	<br>

	<h3>Definizione Tipi Execute CPCommand</h3>

	<table class="features" title="Tipi Operation Operation">
		<thead>
			<th>Operation</th>
			<th>Descrizione</th>
			<th>Esempi di utilizzo</th>
			<th>Codice Generato</th>
			<th>Check</th>
		</thead>
		<tbody>

			<tr>
				<td class="featureOperation">ON_INIT</td>
				<td class="featureDescr">Esecuzione di logiche applicative associate al ContentPanel ad ogni primo ingresso (per sessione).</td>
				<td class="featureDescr">Tutte le operazioni che non &egrave;
					necessario ripetere durante il flusso e che potrebbero ridurre le
					capacit&agrave; prestazionali
					<ol type="disc">
						<li>Caricamento Combo dal contenuto immutabile (es. elenco
							regioni)
					</ol>
				</td>
				<td class="featureDescr">
				Generazione del metodo modellato sul CPCommand e implementazione logica per l'invocazione sulla prepare().
				 <br>Poich&egrave; il  prepare() viene invocato dopo ogni azione per vincolare l'esecuzione della logica solo al primo ingresso viene testata la property di sessione <i>CPCommandInit+"ContentPanel.name"</i>.
				</td>
				<td class="featureDescr">
					<ol type="disc">
						<li>un ContentPanel non pu&ograve; contenere pi&ugrave; di un
							CPCommand di tipo ON_INIT
					</ol>
				</td>
			<tr>
				<td class="featureOperation">ON_REFRESH</td>
				<td class="featureDescr">Esecuzione di logiche applicative ad ogni dopo
					ogni azione svolta in pagina (ingresso contentPanel, esecuzione EventHandler) <br>
					<b>NOTE:</b> <br>Se in pagina viene inserito un CPCommand
					ON_INIT allora l'ON_REFRESH non verr&agrave; eseguito al primo
					accesso. <br>Se in pagina viene inserito un CPCommand ON_ENTER
					allora l'ON_REFRESH non verr&agrave; eseguito al nuovo ingresso al
					ContentPanel. <br>La logica associata all' ON_REFRESH &egrave;
					analoga a quella eseguita dal <i>onRefreshCommand</i> il quale
					andr&agrave; gradualmente dismesso.
				</td>
				<td class="featureDescr">In questo punto andranno introdotte
					tutte le operazioni che testano l'eveluzione del ContentPanel dopo
					ogni singolo evento
					<ol type="disc">
						<li>Gestione messaggi errori in pagina
						<li>Refresh variabili di sessione dipendenti dallo stato
					</ol>
				</td>
				<td class="featureDescr">Generazione del metodo per la gestione
					e richiamo del <i>Command</i> modellato sul CPCommand e richiamo
					sulla prepare(). <br>In questo modo la logica verr&agrave;
					eseguita ad ogni refresh della action <br>Se esistono sia
					l'ON_INIT che l'ON_REFRESH poich&egrave; il prepare() viene
					invocato dopo ogni azione, per vincolare l'esecuzione della logica
					a accessi successivi al primo viene testata una variabile di
					sessione. Questa variabile testa se si tratta di un secondo
					passaggio.
				<td class="featureDescr">
					<ol type="disc">
						<li>un ContentPanel non pu&ograve; contenere un CPCommand di
							tipo ON_REFRESH e un onRefreshCommand contemporaneamente
						<li>un ContentPanel non pu&ograve; contenere pi&ugrave; di un
							CPCommand di tipo ON_REFRESH
					</ol>
				</td>
			<tr>
				<td class="featureOperation">ON_ENTER</td>
				<td class="featureDescr">Esecuzione di una logica applicativa ad ogni
					nuovo accesso a una schermata, mai al primo accesso (es.
					JumpCommand da voce di menu) 
				</td>
				<td class="featureDescr">In questo punto dovranno essere
					eseguite tutte le logiche applicative dipendenti dal flusso di
					navigazione e che devono essere eseguite a ogni nuovo ingresso in
					pagina
					<ol type="disc">
						<li>Precaricamento dati in schermata <br>(es.
							funzionalit&agrave; modifica in un gestionale)
					</ol>
				</td>
				<td class="featureDescr">La gestione del ON_ENTER viene fatta
					sull' execute() della action, ossia il metodo che viene invocato
					ad ogni ingresso in pagina</td>
				<td class="featureDescr">
					<ol type="disc">
						<li>un ContentPanel non pu&ograve; contenere pi&ugrave; di un
							CPCommand di tipo ON_ENTER
					</ol>
				</td>
			<tr>
				<td class="featureOperation">BEFORE_EVENTS</td>
				<td class="featureDescr">Esecuzione di una logica applicativa prima
					dell' esecuzione della logica di un eventHandler</td>
				<td class="featureDescr"></td>
				<td class="featureDescr">Gestione introdotta sul metodo handle,
					associato ad ogni eventHandler, prima dell'invocazione del
					doCommand</td>
				<td class="featureDescr">
					<ol type="disc">

						<li>un ContentPanel non pu&ograve; contenere pi&ugrave; di un
							CPCommand di tipo BEFORE_EVENTS
					</ol>
				</td>
			<tr>
				<td class="featureOperation">AFTER_EVENTS</td>
				<td class="featureDescr">Esecuzione di una logica applicativa dopo l'
					esecuzione della logica di un eventHandler</td>
				<td class="featureDescr"></td>
				<td class="featureDescr">Gestione introdotta sul metodo handle,
					associato ad ogni eventHandler, prima dell'invocazione del
					doCommand</td>
				<td class="featureDescr">
					<ol type="disc">

						<li>un ContentPanel non pu&ograve; contenere pi&ugrave; di un
							CPCommand di tipo BEFORE_EVENTS
					</ol>
				</td>
		</tbody>
	</table>

	<h3>Riepilogo Execute Eseguite\Non Eseguite (se modellate) per Evento</h3>
	<div align="center">
		<table class="features2" >
			<thead>
				<th>Eventi su Content Panel</th>
				<th>Operation Invocati</th>
			</thead>
			<tbody>
				<tr >
					<td class="featureOperation" >Primo ingresso su ContentPanel per sessione applicativa</td>
					<td >
						<table align="center"class="tabOperation" >
							<thead>
								<th>Modali&agrave; non Ajax</th>
								<th>Modali&agrave; Ajax *</th>
							</thead>
							<tbody >
								<tr >
									<td class="featureDescr" >
									CP Destinazione
										<ol type="disc">
											<li><img alt="Operation Non Eseguita"
												src=".//img/yes.gif">ON_INIT
											<li><img alt="Operation Eseguita" src=".//img/no.gif">ON_REFRESH
											<li><img alt="Operation Non Eseguita"
												src=".//img/no.gif">ON_ENTER
										</ol>
									</td>
									<td class="featureDescr" >
								CP Destinazione (prima chiamata)
										<ol type="disc">
											<li><img alt="Operation Non Eseguita"
												src=".//img/yes.gif">ON_INIT
											<li><img alt="Operation Eseguita" src=".//img/no.gif">ON_REFRESH
											<li><img alt="Operation Non Eseguita"
												src=".//img/no.gif">ON_ENTER
										</ol>
									CP Destinazione (seconda chiamta)	
										<ol type="disc">
											<li><img alt="Operation Non Eseguita"
												src=".//img/no.gif">ON_INIT
											<li><img alt="Operation Eseguita" src=".//img/yes.gif">ON_REFRESH
											<li><img alt="Operation Non Eseguita"
												src=".//img/no.gif">ON_ENTER
										</ol>
									</td>
								</tr>
						</table>

					</td>
					<tr>
					<td class="featureOperation">Nuovo ingresso al ContentPanel
						(diverso da primo ingresso per sessione)</td>

					<td >
						<table align="center"class="tabOperation" >
							<thead>
								<th>Modali&agrave; non Ajax</th>
								<th>Modali&agrave; Ajax *</th>
							</thead>
							<tbody>
								<tr>
									<td class="featureDescr">
									CP Destinazione
										<ol type="disc">
											<li><img alt="Operation Non Eseguita"
												src=".//img/yes.gif">ON_INIT
											<li><img alt="Operation Eseguita" src=".//img/no.gif">ON_REFRESH
											<li><img alt="Operation Non Eseguita"
												src=".//img/yes.gif">ON_ENTER
										</ol>
									</td>
									<td class="featureDescr">
									CP Destinazione (prima chiamata)
										<ol type="disc">
											<li><img alt="Operation Non Eseguita"
												src=".//img/yes.gif">ON_INIT
											<li><img alt="Operation Eseguita" src=".//img/no.gif">ON_REFRESH
											<li><img alt="Operation Non Eseguita"
												src=".//img/yes.gif">ON_ENTER
										
										</ol>
										CP Destinazione (seconda chiamta)
										<ol type="disc">
											<li><img alt="Operation Non Eseguita"
												src=".//img/no.gif">ON_INIT
											<li><img alt="Operation Eseguita" src=".//img/yes.gif">ON_REFRESH
											<li><img alt="Operation Non Eseguita"
												src=".//img/no.gif">ON_ENTER
										</ol>
									</td>
								</tr>
						</table>

					</td>
				<tr>
					<td class="featureOperation">Esecuzione logica di un
						EventHandler (es. OnClick Button)</td>
					<td class="featureDescr">
						<ol type="disc">
							<li><img alt="Operation Eseguita" src=".//img/yes.gif">Impostazione Parametri
							<li><img alt="Operation Eseguita" src=".//img/yes.gif">ON_REFRESH
							<li><img alt="Operation Eseguita" src=".//img/yes.gif">BEFORE_EVENTS
							<li><img alt="Operation Eseguita" src=".//img/yes.gif">Logica EventHandler
							<li><img alt="Operation Eseguita" src=".//img/yes.gif">AFTER_EVENTS
						</ol>
					</td>
			</tbody>
		</table>
	</div>

	<ol type="disc">
		<li><img src=".//img/yes.gif">Eseguito
		<li><img src=".//img/no.gif">Non Eseguito 
	
	</ol>
	
* Salto verso il CP Destinazione tramite un <i>JumpCommand</i> in modalit&agrave; Ajax.
<br>Effetto modalit&agrave; Ajax: viene effettuata una seconda chiamata JS sull'action del ContentPanel di destinazione  
<br>Nella catena vengono mostrati le execute invocate nelle 2 chiamate.

</body>



</html>
