<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
   <head>
      <title>Guida all' associazione di logiche applicative al Content Panel </title>
     <link type="text/css" href=".//css/style.css" rel="stylesheet"/>
   </head>
   
   <body>
      <h2>
        Guida all' associazione di logiche applicative al Content Panel
      </h2>
      <h3>Introduzione</h3>
      <p>      
      
      In <b>guigen</b> per implentare della logica applicativa tipicamente si fa ricorso ai commands e i punti in cui pu&ograve; essere implementata sono i seguenti:<br>
      <ol>
      <li> inzializzazione dell' applicazione
      <li> inizialiazzazione\refresh del ContentPanel
      <li> event handler 
      </ol>
      <br>
      Per poter modellare questa logica a livello di ContentPanel &egrave; stato introdotto il nodo CPCommand (child del nodo raggruppatore <b>CPCommands</b>).
      Il CPCommand &egrave; caratterizzato da nodo child di tipo command e una property <i>operation</i> che definisce il punto di implementazione :
      <ol type="disc">
      <li>ON_INIT
      <li>ON_REFRESH
      <li>ON_ENTER
      <li>BEFORE_EVENTS
      <li>AFTER_EVENTS
      </ol>
      
      Nell' immagine seguente un esempio di modellazione.  
      <br>
      TODO: INSERIRE IMMAGINE
      <br>
      <br>
      <br>
      
      <h3>Tipi Operation CPCommand</h3>
  	  <table class="features" title="Tipi Operation Operation">
      <thead><th>Operation</th><th>Descrizione</th><th>Esempio</th><th>Codice Generato</th><th>Check</th></thead>
      <tbody>
      
      <tr>
	  <td class="featureOperation">ON_INIT</td>
	  <td class="featureDescr">Esecuzione di un Action Event una sola volta per sessione applicativa
	  <br>Logiche che devono essere eseguite al primo ingresso sul ContentPanel corrente
	  </td>
	  <td class="featureDescr">Caricamento Combo dal contenuto immutabile (es. elenco regioni)
	  </td>
	  <td class="featureDescr">Sul prepare() della action viene invocato il metodo per la gestione della logica dell' ON_INIT. Questo dovr&agrave; preceduto da un test su una variabile di sessione che controller&agrave; se si tratta di un primo accesso.</td>
	  <td class="featureDescr">
	  <ol type="disc">    
	  <li>un ContentPanel non pu&ograve; contenere pi&ugrave; di un CPCommand di tipo ON_INIT
	  </ol>
	  </td>
      
      <tr>
	  <td class="featureOperation">ON_REFRESH</td>
	  <td class="featureDescr">Esecuzione di un ActionEvent ad ogni refresh della pagina
	  <br>Logiche che devono essere rieseguite dopo ogni azione svolta in pagina (init, esecuzione EventHandler), 
	  </td>
	  <td class="featureDescr">Gestione messaggi errori in pagina
	  </td>
	  <td class="featureDescr">Sul prepare() della action viene invocato il metodo per la gestione della logica dell' ON_REFRESH. In questo modo la logica verr&agrave; eseguita ad ogni refresh della action
	 
	  <td class="featureDescr">
	  <ol type="disc">
      <li>un ContentPanel non pu&ograve; contenere un CPCommand di tipo ON_REFRESH e un onRefreshCommand contemporaneamente 
	  <li>un ContentPanel non pu&ograve; contenere pi&ugrave; di un CPCommand di tipo ON_REFRESH
	  </ol>
	  </td>
	  
	 
	  
	  <tr>	  
	  <td class="featureOperation">ON_ENTER</td>
	  <td class="featureDescr">Esecuzione di un Action Event ad ogni nuovo accesso a una schermata (es. JumpCommand da voce di menu)
	  <br>Si differenzia dal ON_REFRESH perch&egrave; non viene scatenato ad ogni ricaricamento della pagina ma solo quando viene effettuato un nuovo accesso alla schermata.
	  <br>Logiche che dovranno essere eseguite ad ogni nuovo accesso in pagina e dipendenti dal flusso di navigazione precedente.</td>
	  <td class="featureDescr"> Precaricamento dati in schermata </td>
	  <td class="featureDescr">La gestione del On_ENTER viene fatta sull' execute() della action, ossia il metodo che viene invocato dal controller quando riceve una nuova richiesta</td>
	  <td class="featureDescr">
	  <ol type="disc">    
	  <li>un ContentPanel non pu&ograve; contenere pi&ugrave; di un CPCommand di tipo ON_ENTER
	  </ol>
	  </td>
	  
	  <tr>
	  <td class="featureOperation">BEFORE_EVENTS</td>
	  <td class="featureDescr">Esecuzione di un Action Event prima dell' esecuzione della logica di un eventHandler (es. prima dell'esecuzione del command associato a un button)
	  <br>Logiche che dovranno essere eseguite prima del doCommand di ogni EventHandler in pagina
	  </td>
	  <td class="featureDescr">Validazione dati
	  </td>
	  <td class="featureDescr">Gestione introdotta sul metodo handle, associato ad ogni eventHandler, prima dell'invocazione del doCommand </td>
	  <td class="featureDescr">
	  <ol type="disc">
    
	  <li>un ContentPanel non pu&ograve; contenere pi&ugrave; di un CPCommand di tipo BEFORE_EVENTS
	  </ol>
	  </td>
	  
	  <tr>
	  <td class="featureOperation">AFTER_EVENTS</td>
	  <td class="featureDescr">Esecuzione di un Action Event dopo dell' esecuzione della logica di un eventHandler (es. prima dell'esecuzione del command associato a un button)
	  <br> Logiche che dovranno essere eseguite prima del doCommand di ogni EventHandler in pagina
	  <td class="featureDescr">Tracciatura WARN e ERROR</td>
	  <td class="featureDescr">Gestione introdotta sul metodo handle, associato ad ogni eventHandler, prima dell'invocazione del doCommand </td>
	  <td class="featureDescr">
	  <ol type="disc">
    
	  <li>un ContentPanel non pu&ograve; contenere pi&ugrave; di un CPCommand di tipo BEFORE_EVENTS
	  </ol>
	  </td>
      </tbody>
      </table>
       
      <h3>Esempi di Eventi</h3>
       <table class="features2" title="Esempi">
      <thead><th>Evento</th><th>Operation Invocati per Evento</th></thead>
      <tbody>
      
      <tr>
	  <td class="featureDescr">Init Sessione Applicativa ContentPanel</td>	
	  <td class="featureDescr">
	  <ol type="disc">    
	  <li> <img alt="Operation Non Eseguita" src=".//img/yes.gif">ON_INIT
	  <li> <img alt="Operation Eseguita" src=".//img/yes.gif">ON_REFRESH
	  <li> <img alt="Operation Eseguita" src=".//img/no.gif">BEFORE_EVENTS
	  <li> <img alt="Operation Eseguita" src=".//img/no.gif">Logica EventHandler
	  <li> <img alt="Operation Eseguita" src=".//img/no.gif">AFTER_EVENTS 
	  <li> <img alt="Operation Non Eseguita" src=".//img/yes.gif">ON_ENTER
	  </ol>
	  </td>	 
	   
	  <tr>
	  <td class="featureDescr">Refresh\Ingresso al ContentPanel (diverso dal primo per sessione applicativa) </td>	
	  <td class="featureDescr">
	  <ol type="disc">   
	  <li> <img alt="Operation Non Eseguita" src=".//img/no.gif">ON_INIT
	  <li> <img alt="Operation Eseguita" src=".//img/yes.gif">ON_REFRESH
	  <li> <img alt="Operation Eseguita" src=".//img/no.gif">BEFORE_EVENTS
	  <li> <img alt="Operation Eseguita" src=".//img/no.gif">Logica EventHandler
	  <li> <img alt="Operation Eseguita" src=".//img/no.gif">AFTER_EVENTS 
	  <li> <img alt="Operation Non Eseguita" src=".//img/yes.gif">ON_ENTER
	  </ol>
	  </td>	 
	  
	  <tr>
	  <td class="featureDescr">Esecuzione logica di un EventHandler (es. OnClick Button)</td>	
	  <td class="featureDescr">
	  <ol type="disc">   
	  <li> <img alt="Operation Non Eseguita" src=".//img/no.gif">ON_INIT
	  <li> <img alt="Operation Eseguita" src=".//img/yes.gif">ON_REFRESH
	  <li> <img alt="Operation Eseguita" src=".//img/yes.gif">BEFORE_EVENTS
	  <li> <img alt="Operation Eseguita" src=".//img/yes.gif">Logica EventHandler
	  <li> <img alt="Operation Eseguita" src=".//img/yes.gif">AFTER_EVENTS 
	  <li> <img alt="Operation Non Eseguita" src=".//img/no.gif">ON_ENTER	  
	  </ol>
	  </td>	 
	  
      </tbody>
      </table>
      
       
        </body>
</html>
